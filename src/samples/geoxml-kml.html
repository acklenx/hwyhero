<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:v="urn:schemas-microsoft-com:vml">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <title>Google Maps API Example: GGeoXml KML Overlay</title>
    <script src="http://maps.google.com/maps?file=api&amp;v=2&amp;key=ABQIAAAAzr2EBOXUKnm_jVnk0OJI7xSosDVG8KKPE1-m51RBrvYughuyMxQ-i1QfUnH94QxWIa6N4U6MouMmBA"
      type="text/javascript"></script>
    <script type="text/javascript">

    var map;
    var geoXml;
    var toggleState = 1;

    function initialize() {
      if (GBrowserIsCompatible()) {
        geoXml = new GGeoXml("http://www.weather.gov/forecasts/xml/sample_products/browser_interface/ndfdXMLclient.php?gmlListLatLon=35.246741,-80.842896+36.09239,-79.792328+36.09239,-79.792328+37.542979,-77.469092+38.895112,-77.036366&featureType=Ndfd_KmlPoint&startTime=2011-05-15T12:00:00&endTime=2011-05-16T17:00:00&compType=Between&propertyName=maxt,mint,sky,wx,icons");
        map = new GMap2(document.getElementById("map_canvas"));
        map.setCenter(new GLatLng(36.09239,-79.792328), 5);
        map.setUIToDefault();
        map.addOverlay(geoXml);
      }
    }

    function toggleMyKml() {
      if (toggleState == 1) {
        map.removeOverlay(geoXml);
        toggleState = 0;
      } else {
        map.addOverlay(geoXml);
        toggleState = 1;
      }
    }
	</script>
  </head>

  <body onload="initialize()">
    <div id="map_canvas" style="width: 640px; height: 480px; float:left; border: 1px solid black;"></div>
    </div>
    <br clear="all"/>
    <br/>
    <input type="button" value="Toggle KML" onClick="toggleMyKml();"/>
  </body>
</html>
